<div class="articles-stream">
  <% if user_signed_in? %>
    <%= link_to 'New article', new_article_path %>
  <% end %>
  <br>
  <% if @articles %>
    <table>
      <tr>
        <th>Title</th>
        <th>Summary</th>
        <th>Body</th>
        <th>Link</th>
        <th>Comments</th>
        <% if user_signed_in? %>
          <th>Posted</th>
        <% end %>
        <th colspan="2"></th>
      </tr>

      <% @articles.each do |article| %>
        <tr>
          <td><%= link_to article.title, article_path(article)%></td>
          <td><%= article.summary %></td>
          <td><%= truncate(article.body, :length => 500) %></td>
          <td><%= article.link %></td>
          <td><%= article.comments.count %></td>
          <% if user_signed_in? %>
            <td><%= article.created_at %></td>
            <td><%= link_to 'Edit', edit_article_path(article) %></td>
            <td><%= link_to 'Destroy', article_path(article),
                    method: :delete,
                    data: { confirm: 'Are you sure?' } %></td>
          <% end %>
        </tr>
      <% end %>
    </table>
  <% else %>
    <p> No hay noticias </p>
  <% end %>
</div>
